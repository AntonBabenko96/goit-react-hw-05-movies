{"version":3,"file":"static/js/168.d34d2832.chunk.js","mappings":"+PACA,EAA8B,6B,SC6C9B,EAxCgB,WACd,OAA8BA,EAAAA,EAAAA,UAAS,IAAvC,eAAOC,EAAP,KAAgBC,EAAhB,KACA,GAAkCF,EAAAA,EAAAA,WAAS,GAA3C,eAAOG,EAAP,KAAkBC,EAAlB,KACQC,GAAYC,EAAAA,EAAAA,MAAZD,QAgBR,OAdAE,EAAAA,EAAAA,YAAU,WAAM,wCACd,oGAEIH,GAAa,GAFjB,SAG0BI,EAAAA,EAAAA,kBAAsBH,GAHhD,OAGUI,EAHV,OAKIP,EAAWO,GALf,yEAQIL,GAAa,GARjB,6EADc,uBAAC,WAAD,wBAYdM,EACD,GAAE,CAACL,KAEF,2BACGF,IAAa,SAACQ,EAAA,EAAD,IACbV,EAAQW,OAAS,GAChB,eAAIC,UAAWC,EAAf,SACGb,EAAQc,KAAI,YAA8B,IAA3BC,EAA0B,EAA1BA,OAAQC,EAAkB,EAAlBA,QAASC,EAAS,EAATA,GAC/B,OACE,2BACE,wBAAKF,KACL,uBAAIC,MAFGC,EAKZ,MAGH,sCAIP,C,8FC3CKC,EAAU,2CACVC,EAAW,+BAEJZ,EAAM,CACXa,oBADW,WACY,OAAD,sHACHC,EAAAA,EAAAA,GAAM,GAAD,OAAIF,EAAJ,8BAAkCD,IADpC,cACpBI,EADoB,yBAEnBA,EAASC,MAFU,4CAG3B,EAEKC,eANW,SAMIpB,GAAU,OAAD,sHACLiB,EAAAA,EAAAA,GAAM,GAAD,OAAIF,EAAJ,kBAAsBf,EAAtB,YAAiCc,IADjC,cACtBI,EADsB,yBAErBA,EAASC,MAFY,4CAG7B,EAEKE,iBAXW,SAWMC,GAAa,OAAD,sHACVL,EAAAA,EAAAA,GAAM,GAAD,OACvBF,EADuB,+BACQO,EADR,YACsBR,EADtB,YADK,cAC3BI,EAD2B,yBAI1BA,EAASC,KAAKf,SAJY,4CAKlC,EAEKmB,mBAlBW,SAkBQvB,GAAU,OAAD,sHACTiB,EAAAA,EAAAA,GAAM,GAAD,OACvBF,EADuB,kBACLf,EADK,oBACcc,IAFV,cAC1BI,EAD0B,yBAIzBA,EAASC,KAAKK,MAJW,4CAKjC,EAEKC,kBAzBW,SAyBOzB,GAAU,OAAD,sHACRiB,EAAAA,EAAAA,GAAM,GAAD,OACvBF,EADuB,kBACLf,EADK,oBACcc,EADd,2BADG,cACzBI,EADyB,yBAIxBA,EAASC,KAAKf,SAJU,4CAKhC,E","sources":["webpack://react-homework-template/./src/components/Reviews/Reviews.module.css?7248","components/Reviews/Reviews.jsx","shared/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"reviewsItem\":\"Reviews_reviewsItem__Su53A\"};","import { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { Loader } from 'shared/Loader/Loader';\nimport { API } from '../../shared/api';\nimport css from './Reviews.module.css';\n\nconst Reviews = () => {\n  const [reviews, setReviews] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const { movieId } = useParams();\n\n  useEffect(() => {\n    async function getMovies() {\n      try {\n        setIsLoading(true);\n        const results = await API.fetchMovieReviews(movieId);\n\n        setReviews(results);\n      } catch (error) {\n      } finally {\n        setIsLoading(false);\n      }\n    }\n    getMovies();\n  }, [movieId]);\n  return (\n    <div>\n      {isLoading && <Loader />}\n      {reviews.length > 0 ? (\n        <ul className={css.reviewsItem}>\n          {reviews.map(({ author, content, id }) => {\n            return (\n              <li key={id}>\n                <h3>{author}</h3>\n                <p>{content}</p>\n              </li>\n            );\n          })}\n        </ul>\n      ) : (\n        'No reviews have been written yet.'\n      )}\n    </div>\n  );\n};\n\nexport default Reviews;\n","import axios from 'axios';\nconst API_KEY = 'api_key=f2276557f452d5e4f3dac26aab188cd0';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\nexport const API = {\n  async fetchTrendingMovies() {\n    const response = await axios(`${BASE_URL}/trending/all/week?${API_KEY}`);\n    return response.data;\n  },\n\n  async fetchMovieById(movieId) {\n    const response = await axios(`${BASE_URL}/movie/${movieId}?${API_KEY}`);\n    return response.data;\n  },\n\n  async fetchSearchMovie(searhMovie) {\n    const response = await axios(\n      `${BASE_URL}/search/movie?query=${searhMovie}&${API_KEY}&page=1`\n    );\n    return response.data.results;\n  },\n\n  async fetchActorsCredits(movieId) {\n    const response = await axios(\n      `${BASE_URL}/movie/${movieId}/credits?${API_KEY}`\n    );\n    return response.data.cast;\n  },\n\n  async fetchMovieReviews(movieId) {\n    const response = await axios(\n      `${BASE_URL}/movie/${movieId}/reviews?${API_KEY}&language=en-US&page=1`\n    );\n    return response.data.results;\n  },\n};\n"],"names":["useState","reviews","setReviews","isLoading","setIsLoading","movieId","useParams","useEffect","API","results","getMovies","Loader","length","className","css","map","author","content","id","API_KEY","BASE_URL","fetchTrendingMovies","axios","response","data","fetchMovieById","fetchSearchMovie","searhMovie","fetchActorsCredits","cast","fetchMovieReviews"],"sourceRoot":""}